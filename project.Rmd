---
title: "project"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

First, we need to clean up the dataset a bit.
```{r}
library(dplyr)
library(tidyr)

airbnb = read.csv("airbnb.csv")
str(airbnb)
# Setting descriptions, URLS, to character types
airbnb_char = airbnb %>% mutate_at(c(2:12, 14, 18, 25), as.character)

# Set numerics where they're needed
library(stringr)
airbnb_char$host_response_rate = as.numeric(str_remove(airbnb_char$host_response_rate, "%"))
# all others should be properly formatted

# Set boolean columns
airbnb_char = airbnb_char %>% mutate_at(c(20, 23, 24, 29), as.character) # R won't reassign unless column is of character type
airbnb_char[airbnb_char=="f"] = "false" # true and false are parseable by as.logical
airbnb_char[airbnb_char=="t"] = "true"
airbnb_clean = airbnb_char %>% mutate_at(c(20, 23, 24, 29), as.logical)
# boolean values are set to be TRUE and FALSE

# Set missing values to NA
airbnb_clean[airbnb_clean==""] = NA # Note: this should work for both character and factor variables

# Setting dates to date types
airbnb_clean$host_since = as.Date(airbnb_clean$host_since, format="%m/%d/%Y")
# this is done last because it breaks slicing
```

Now, we can start with some exploration of individual variables.
```{r}
library(ggplot2)

# Let's look at some counts for factors to gauge their plottability
# Unique host names:
length(unique(airbnb_clean$host_name))
# Unique host locations:
length(unique(airbnb_clean$host_location))
# Unique host neighborhoods:
length(unique(airbnb_clean$host_neighbourhood))
# Unique listing neighborhoods:
length(unique(airbnb_clean$neighbourhood))
# Unique room types:
length(unique(airbnb_clean$room_type))
# Unique bed types:
length(unique(airbnb_clean$bed_type))


# How about distributions of host start times?
ggplot(airbnb_clean, aes(host_since)) + geom_histogram() + labs(x = "Start Date", y = "Count", title = "Distribution of Host Start Dates")
```

## Host Data
Let's look at some data involving individual hosts.
```{r}

```

## Modeling
We can predict some practical values using linear models. [Karthik]

## Geographical Data
The dataset provides useful location data for each listing that can provide some insight into different geographical areas. [Peter]

## Text Data
Several of the variables here come in the form of long text descriptions from which useful information can be pulled with some effort. [Kaleb]

